<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Inbox Detail - BloodLink Admin</title>
    <link rel="stylesheet" href="/css/dashboard.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700&display=swap"
        rel="stylesheet">
    <style>
        /* Inbox Detail Specific Styles */
        .page-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
        }

        .page-title {
            font-size: 24px;
            font-weight: 700;
            color: #111827;
        }

        .search-bar-container {
            position: relative;
            width: 300px;
        }

        .search-bar-input {
            width: 100%;
            padding: 10px 16px;
            padding-right: 40px;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            font-family: 'Kanit', sans-serif;
            font-size: 14px;
            outline: none;
        }

        .search-bar-icon {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: #9CA3AF;
            pointer-events: none;
        }

        .message-detail-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
            border: 1px solid #E5E7EB;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 24px;
            border-bottom: 1px solid #E5E7EB;
        }

        .toolbar-left,
        .toolbar-right {
            display: flex;
            gap: 16px;
        }

        .tool-btn {
            background: none;
            border: none;
            cursor: pointer;
            color: #6B7280;
            padding: 4px;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .tool-btn:hover {
            background-color: #F3F4F6;
            color: #374151;
        }

        .message-header {
            padding: 24px;
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }

        .sender-info {
            display: flex;
            gap: 16px;
        }

        .sender-avatar {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background-color: #F3F4F6;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #9CA3AF;
        }

        .sender-details h3 {
            font-size: 16px;
            font-weight: 600;
            color: #1F2937;
            margin: 0 0 4px 0;
        }

        .sender-details p {
            font-size: 14px;
            color: #6B7280;
            margin: 0;
        }

        .message-meta {
            font-size: 12px;
            color: #9CA3AF;
        }

        .message-body {
            padding: 0 24px 24px 24px;
            color: #374151;
            font-size: 14px;
            line-height: 1.6;
        }

        .message-body p {
            margin-bottom: 16px;
        }

        .reply-section {
            padding: 24px;
            border-top: 1px solid #E5E7EB;
            background-color: #FAFAFA;
        }

        .reply-input {
            width: 100%;
            padding: 16px;
            border: 1px solid #E5E7EB;
            border-radius: 8px;
            font-family: 'Kanit', sans-serif;
            font-size: 14px;
            resize: vertical;
            min-height: 100px;
            background: white;
            outline: none;
        }

        .reply-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
        }

        .mute-toggle {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
            color: #4B5563;
            cursor: pointer;
        }

        .toggle-switch {
            position: relative;
            width: 36px;
            height: 20px;
            background-color: #E5E7EB;
            border-radius: 20px;
            transition: background-color 0.2s;
        }

        .toggle-switch::after {
            content: '';
            position: absolute;
            top: 2px;
            left: 2px;
            width: 16px;
            height: 16px;
            background-color: white;
            border-radius: 50%;
            transition: transform 0.2s;
        }

        .mute-toggle input {
            display: none;
        }

        .mute-toggle input:checked+.toggle-switch {
            background-color: #111827;
        }

        .mute-toggle input:checked+.toggle-switch::after {
            transform: translateX(16px);
        }

        .send-btn {
            background-color: #111827;
            color: white;
            border: none;
            padding: 8px 24px;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
        }

        .send-btn:hover {
            background-color: #000000;
        }
    </style>
</head>

<body>
    <div class="dashboard-container">
        <!-- Admin Sidebar -->
        <%- include('partials/admin-sidebar') %>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Header Components -->
                <!-- Header Components -->
                <%- include('partials/header', { hideSearch: true, isAdminPage: true }) %>

                    <div class="content-area">
                        <div class="page-header">
                            <div style="display: flex; align-items: center; gap: 16px;">
                                <a href="/admin-inbox" class="back-link"
                                    style="display: flex; align-items: center; gap: 8px; color: #6B7280; text-decoration: none; font-weight: 500;">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <path d="M19 12H5M12 19l-7-7 7-7"></path>
                                    </svg>
                                    ย้อนกลับ
                                </a>
                                <h1 class="page-title" style="margin: 0;">Inbox</h1>
                            </div>
                            <div class="search-bar-container">
                                <input type="text" class="search-bar-input" placeholder="ค้นหารายชื่อ/HN">
                                <svg class="search-bar-icon" width="20" height="20" viewBox="0 0 24 24" fill="none"
                                    stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                    stroke-linejoin="round">
                                    <circle cx="11" cy="11" r="8"></circle>
                                    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
                                </svg>
                            </div>
                        </div>

                        <div class="message-detail-card">
                            <!-- Toolbar -->
                            <div class="toolbar">
                                <div class="toolbar-left">
                                    <button class="tool-btn" title="Archive">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <polyline points="21 8 21 21 3 21 3 8"></polyline>
                                            <rect x="1" y="3" width="22" height="5"></rect>
                                            <line x1="10" y1="12" x2="14" y2="12"></line>
                                        </svg>
                                    </button>
                                    <button class="tool-btn" title="Spam">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <line x1="12" y1="8" x2="12" y2="12"></line>
                                            <line x1="12" y1="16" x2="12.01" y2="16"></line>
                                        </svg>
                                    </button>
                                    <button class="tool-btn" title="Delete">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <polyline points="3 6 5 6 21 6"></polyline>
                                            <path
                                                d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2">
                                            </path>
                                        </svg>
                                    </button>
                                    <div style="width: 1px; height: 24px; background-color: #E5E7EB; margin: 0 8px;">
                                    </div>
                                    <button class="tool-btn" title="Snooze">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="10"></circle>
                                            <polyline points="12 6 12 12 16 14"></polyline>
                                        </svg>
                                    </button>
                                </div>
                                <div class="toolbar-right">
                                    <button class="tool-btn" title="Reply">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <polyline points="9 17 4 12 9 7"></polyline>
                                            <path d="M20 18v-2a4 4 0 0 0-4-4H4"></path>
                                        </svg>
                                    </button>
                                    <button class="tool-btn" title="Reply All">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <polyline points="9 17 4 12 9 7"></polyline>
                                            <path d="M20 18v-2a4 4 0 0 0-4-4H4"></path>
                                            <polyline points="13 17 8 12 13 7"></polyline>
                                        </svg>
                                    </button>
                                    <button class="tool-btn" title="Forward">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <polyline points="15 17 20 12 15 7"></polyline>
                                            <path d="M4 18v-2a4 4 0 0 1 4-4h12"></path>
                                        </svg>
                                    </button>
                                    <div style="width: 1px; height: 24px; background-color: #E5E7EB; margin: 0 8px;">
                                    </div>
                                    <button class="tool-btn" title="More">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <circle cx="12" cy="12" r="1"></circle>
                                            <circle cx="12" cy="5" r="1"></circle>
                                            <circle cx="12" cy="19" r="1"></circle>
                                        </svg>
                                    </button>
                                </div>
                            </div>

                            <!-- Message Header -->
                            <div class="message-header">
                                <div class="sender-info">
                                    <div class="sender-avatar">
                                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                            stroke="currentColor" stroke-width="2">
                                            <path
                                                d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z">
                                            </path>
                                            <polyline points="22,6 12,13 2,6"></polyline>
                                        </svg>
                                    </div>
                                    <div class="sender-details">
                                        <h3>Alice Smith</h3>
                                        <p>Re: Project Update</p>
                                        <p style="font-size: 12px; color: #9CA3AF;">Re: alicesmith@example.com</p>
                                    </div>
                                </div>
                                <div class="message-meta">
                                    Mar 25, 2025, 1:15:00 PM
                                </div>
                            </div>

                            <!-- Message Body -->
                            <div class="message-body">
                                <p>Hi, let's have a meeting tomorrow to discuss the project. I've been reviewing the
                                    project details and have some ideas I'd like to share. It's crucial that we align on
                                    our next steps to ensure the project's success.</p>
                                <p>Hi, let's have a meeting tomorrow to discuss the project. I've been reviewing the
                                    project details and have some ideas I'd like to share. It's crucial that we align on
                                    our next steps to ensure the project's success.</p>
                                <p>Hi, let's have a meeting tomorrow to discuss the project. I've been reviewing the
                                    project details and have some ideas I'd like to share. It's crucial that we align on
                                    our next steps to ensure the project's success.</p>
                                <p>Thanks, Emily</p>
                            </div>

                            <!-- Reply Section -->
                            <div class="reply-section">
                                <textarea class="reply-input" placeholder="Reply Emily Davis..."></textarea>
                                <div class="reply-footer">
                                    <label class="mute-toggle">
                                        <input type="checkbox">
                                        <div class="toggle-switch"></div>
                                        Mute this thread
                                    </label>
                                    <button class="send-btn">Send</button>
                                </div>
                            </div>
                        </div>
                    </div>
            </main>

            <%- include('partials/help') %>
                <%- include('partials/popup') %>
    </div>

    <script src="/js/dashboard.js"></script>
    <script>
        // Set active sidebar item
        document.addEventListener('DOMContentLoaded', () => {
            const navItems = document.querySelectorAll('.nav-item');
            navItems.forEach(item => item.classList.remove('active'));

            const inboxNav = document.querySelector('.nav-item[data-page="inbox"]');
            if (inboxNav) inboxNav.classList.add('active');
        });
    </script>
</body>

</html>